<!doctype html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="description" content="Travaux Pratiques : Déboguer un programme mal écrit et comportant des bugs."><meta property="og:url" content="{{ url_prefix }}/{{ permalink }}"><meta property="og:title" content="Travail Pratique 6 - Débogage"><meta property="og:description" content="Travaux Pratiques : Déboguer un programme mal écrit et comportant des bugs."><meta property="og:image" content="/algo-appliquee/assets/logo.png"><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous"><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" integrity="sha256-55Ddc47WvWTK5vYVejnAuSK7USJaL7FQXrzQ4HiQ1WY=" crossorigin="anonymous"><link href="https://cdn.jsdelivr.net/npm/prismjs@1.24.1/themes/prism-okaidia.css" rel="stylesheet" integrity="sha256-nwDipdLn93O1CZGoRDor0i4CLmDQb+mdg/yaYMUCuLM=" crossorigin="anonymous"><link href="/algo-appliquee/assets/site.css" rel="stylesheet"><title>Travail Pratique 6 - Débogage</title><script>window.WebFontConfig = {
        custom: {
          families: ['KaTeX_AMS', 'KaTeX_Caligraphic:n4,n7', 'KaTeX_Fraktur:n4,n7',
            'KaTeX_Main:n4,n7,i4,i7', 'KaTeX_Math:i4,i7', 'KaTeX_Script',
            'KaTeX_SansSerif:n4,n7,i4', 'KaTeX_Size1', 'KaTeX_Size2', 'KaTeX_Size3',
            'KaTeX_Size4', 'KaTeX_Typewriter'],
        },
      };</script><script defer="defer" src="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.js" integrity="sha256-4O4pS1SH31ZqrSO2A/2QJTVjTPqVe+jnYgOWUVr7EEc=" crossorigin="anonymous"></script></head><body class="bg-dark"><header class="navbar navbar-expand-lg navbar-dark bg-dark shadow"><div class="container-fluid"><a class="navbar-brand" href="/algo-appliquee/">Algorithmique Appliquée avec Python</a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Etendre le menu"><span class="navbar-toggler-icon"></span></button></div></header><div class="container-fluid"><div class="row"><nav id="sidebarMenu" class="navbar-expand-lg col-lg-3 bg-light sidebar collapse"><ul class="nav flex-column"><li class="nav-item"><a class="nav-link" href="/algo-appliquee/"><span data-feather="home"></span> Accueil</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/trame/"><span data-feather="file"></span> Trame du cours</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/00-avant-propos/"><span data-feather="file-text"></span> Avant-propos</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/references/"><span data-feather="shopping-cart"></span> Références</a></li></ul><h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"><span>Cours</span></h6><ul class="nav flex-column mb-2"><li class="nav-item"><a class="nav-link" href="/algo-appliquee/01-intro-programmation/"><span data-feather="file-text"></span> Introduction</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/02-bases-python/"><span data-feather="file-text"></span> Bases du Python</a></li><li class="nav-item"><a class="nav-link active" href="/algo-appliquee/03-programmes-simples/"><span data-feather="file-text"></span> Programmes simples</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/04-fonctions/"><span data-feather="file-text"></span> Fonctions</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/05-structures-donnees/"><span data-feather="file-text"></span> Structures de données</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/06-problemes-classiques/"><span data-feather="file-text"></span> Problèmes classiques</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/07-complexite/"><span data-feather="file-text"></span> Complexité</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/08-tests/"><span data-feather="file-text"></span> Tests</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/09-recherche-et-tri/"><span data-feather="file-text"></span> Recherche et tri</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/10-python-avance/"><span data-feather="file-text"></span> Python avancé</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/11-graphes/"><span data-feather="file-text"></span> Graphes</a></li><li class="nav-item"><a class="nav-link" href="/algo-appliquee/12-conclusion/"><span data-feather="file-text"></span> Conclusion</a></li></ul></nav><main class="col-lg-9 ms-sm-auto px-md-4"><div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"><h1>Travail Pratique 6 - Débogage</h1></div><p>Dans ce TP, vous allez déboguer un programme mal écrit et comportant des bugs. L’objectif va être de comprendre ce programme, de le documenter et de corriger un certain nombre de problèmes.</p><h2>Exercice 1 - Prendre connaissance du code</h2><p>On vous donne le code suivant et on vous demande simplement de le faire fonctionner sans vous donner plus de précision.</p><p>Prenez connaissance de ce code, exécutez-le et mettez des points d’arrêt pour tenter de comprendre le flot d’exécution.</p><p>Rajoutez des commentaires, renommez les variables et reformattez le code.</p><pre class="language-py"><code class="language-py">entree <span class="token operator">=</span> <span class="token triple-quoted-string string">"""<br>somme = 0<br>for i in range(10):<br>    somme += i<br>print(somme)<br>"""</span><br>avant<span class="token punctuation">,</span>apres<span class="token punctuation">,</span>boucle1<span class="token punctuation">,</span>corps<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">""</span><br>bcl_var<span class="token punctuation">,</span>bcl_indt<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token number">4</span><br>r_debut<span class="token punctuation">,</span>r_inc<span class="token punctuation">,</span>r_fin<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><br>idx_actu<span class="token operator">=</span><span class="token number">0</span><br>mot_prec<span class="token punctuation">,</span>mot_actu<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">""</span><br>dans_boucle1<span class="token punctuation">,</span>dans_corps<span class="token punctuation">,</span>dans_r<span class="token punctuation">,</span>debut_l<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">True</span><br>verifie_mot_prec<span class="token operator">=</span><span class="token boolean">False</span><br><span class="token keyword">for</span> c <span class="token keyword">in</span> entree<span class="token punctuation">:</span><br>    <span class="token keyword">if</span> c <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token string">","</span><span class="token punctuation">,</span><span class="token string">":"</span><span class="token punctuation">,</span><span class="token string">"("</span><span class="token punctuation">,</span><span class="token string">")"</span><span class="token punctuation">,</span><span class="token string">";"</span><span class="token punctuation">,</span><span class="token string">"\n"</span><span class="token punctuation">,</span><span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">"="</span><span class="token punctuation">,</span><span class="token string">"&lt;"</span><span class="token punctuation">,</span><span class="token string">">"</span><span class="token punctuation">,</span><span class="token string">"{"</span><span class="token punctuation">,</span><span class="token string">"}"</span><span class="token punctuation">,</span><span class="token string">"["</span><span class="token punctuation">,</span><span class="token string">"]"</span><span class="token punctuation">,</span><span class="token string">"+"</span><span class="token punctuation">,</span><span class="token string">"-"</span><span class="token punctuation">,</span><span class="token string">"*"</span><span class="token punctuation">,</span><span class="token string">"/"</span><span class="token punctuation">,</span><span class="token string">"%"</span><span class="token punctuation">,</span><span class="token string">"#"</span><span class="token punctuation">,</span><span class="token string">"\t"</span><span class="token punctuation">,</span><span class="token string">"\r"</span><span class="token punctuation">,</span><span class="token string">"\""</span><span class="token punctuation">,</span><span class="token string">"\'"</span><span class="token punctuation">}</span><span class="token punctuation">:</span><br>        mot_actu <span class="token operator">+=</span> c<br>    <span class="token keyword">elif</span> mot_actu <span class="token operator">!=</span> <span class="token string">""</span><span class="token punctuation">:</span><br>        mot_prec<span class="token punctuation">,</span>mot_actu<span class="token punctuation">,</span>verifie_mot_prec<span class="token operator">=</span>mot_actu<span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token boolean">True</span><br>    <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token string">"\n"</span><span class="token punctuation">:</span><br>        idx_actu<span class="token punctuation">,</span>debut_l<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token boolean">True</span><br>        <span class="token keyword">if</span> dans_boucle1<span class="token punctuation">:</span><br>            dans_boucle1<span class="token punctuation">,</span>dans_r<span class="token punctuation">,</span>dans_corps<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token boolean">True</span><br>    <span class="token keyword">else</span><span class="token punctuation">:</span><br>        <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token string">" "</span><span class="token punctuation">:</span><br>            <span class="token keyword">if</span> debut_l<span class="token punctuation">:</span>idx_actu<span class="token operator">+=</span><span class="token number">1</span><br>        <span class="token keyword">else</span><span class="token punctuation">:</span><br>            debut_l<span class="token operator">=</span><span class="token boolean">False</span><br>            <span class="token keyword">if</span> dans_corps <span class="token keyword">and</span> idx_actu<span class="token operator">&lt;</span>bcl_indt<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">:</span>dans_corps<span class="token operator">=</span><span class="token boolean">False</span><br>    <span class="token keyword">if</span> verifie_mot_prec<span class="token punctuation">:</span><br>        <span class="token keyword">if</span> mot_prec <span class="token operator">==</span> <span class="token string">"for"</span><span class="token punctuation">:</span>dans_boucle1<span class="token punctuation">,</span>bcl_indt<span class="token punctuation">,</span>avant<span class="token punctuation">,</span>boucle1<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>idx_actu<span class="token punctuation">,</span>avant<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"for"</span><br>        <span class="token keyword">elif</span> dans_boucle1 <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>bcl_var<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>bcl_var<span class="token operator">=</span>mot_prec<br>        <span class="token keyword">elif</span> dans_boucle1 <span class="token keyword">and</span> mot_prec <span class="token operator">==</span> <span class="token string">"range"</span><span class="token punctuation">:</span>dans_r<span class="token operator">=</span><span class="token boolean">True</span><br>        <span class="token keyword">elif</span> dans_r<span class="token punctuation">:</span>r_fin<span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">(</span>mot_prec<span class="token punctuation">)</span><br>        mot_prec<span class="token punctuation">,</span>verifie_mot_prec<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token boolean">False</span><br>    <span class="token keyword">if</span> dans_corps<span class="token punctuation">:</span>corps<span class="token operator">+=</span>c<br>    <span class="token keyword">elif</span> dans_boucle1<span class="token punctuation">:</span>boucle1<span class="token operator">+=</span>c<br>    <span class="token keyword">elif</span> <span class="token builtin">len</span><span class="token punctuation">(</span>boucle1<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">:</span>avant<span class="token operator">+=</span>c<br>    <span class="token keyword">else</span><span class="token punctuation">:</span>apres<span class="token operator">+=</span>c<br>final_code<span class="token punctuation">,</span>lines<span class="token operator">=</span>avant<span class="token punctuation">,</span>corps<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><br><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>r_debut<span class="token punctuation">,</span>r_fin<span class="token punctuation">,</span>r_inc<span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">for</span> line <span class="token keyword">in</span> lines<span class="token punctuation">:</span><br>        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">4</span><span class="token punctuation">:</span>final_code<span class="token operator">+=</span>line<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span>bcl_var<span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\n"</span><br>final_code<span class="token operator">+=</span>apres<br><span class="token keyword">print</span><span class="token punctuation">(</span>final_code<span class="token punctuation">)</span></code></pre><p>Que se passe-t-il si vous changez l’entrée de la manière suivante ?</p><pre class="language-py"><code class="language-py">entree <span class="token operator">=</span> <span class="token triple-quoted-string string">"""<br>somme = 0<br>mult = 1<br>for i in range(10):<br>    somme += i<br>    mult *= i ** 2<br>print(somme)<br>print(mult)<br>"""</span></code></pre><p>Que se passe-t-il si vous changez l’entrée de la manière suivante ?</p><pre class="language-py"><code class="language-py">entree <span class="token operator">=</span> <span class="token triple-quoted-string string">"""<br>somme = 0<br>mult = 1<br>for nb in range(10):<br>    somme += nb<br>    if somme > 3:<br>        mult *= nb ** 2<br>    else:<br>        mult += nb<br>print(somme)<br>print(mult)<br>"""</span></code></pre><p>Qu’en déduisez-vous concernant l’intention du développeur initial de ce code ?</p><p>Rajoutez des commentaires pour expliquer l’intention de ce code.</p><h2>Exercice 2 - Problèmes sur le range</h2><p>Que se passe-t-il si vous changez l’entrée de la manière suivante :</p><pre class="language-py"><code class="language-py">entree <span class="token operator">=</span> <span class="token triple-quoted-string string">"""<br>somme = 0<br>for i in range(3:10):<br>    somme += i<br>print(somme)<br>"""</span></code></pre><p>Est-ce que cela vous paraît correct ? Existe-t-il toujours une bijection ? Corrigez ce problème.</p><p>Que se passe-t-il si vous changez l’entrée de la manière suivante ?</p><pre class="language-py"><code class="language-py">entree <span class="token operator">=</span> <span class="token triple-quoted-string string">"""<br>somme = 0<br>for i in range(0:10:2):<br>    somme += i<br>print(somme)<br>"""</span></code></pre><p>Corrigez également ce problème.</p><h2>Exercice 3 - Remplacements inattendus</h2><p>Que se passe-t-il si vous changez l’entrée de la manière suivante ?</p><pre class="language-py"><code class="language-py">entree <span class="token operator">=</span> <span class="token triple-quoted-string string">"""<br>hit = 0<br>for i in range(10):<br>    hit += i<br>print(hit)<br>"""</span></code></pre><p>Corrigez ce problème.</p><h2>Exercice 4 - Problèmes de contexte</h2><p>Que se passe-t-il si vous changez l’entrée de la manière suivante ?</p><pre class="language-py"><code class="language-py">entree <span class="token operator">=</span> <span class="token triple-quoted-string string">"""<br>somme = 0<br>" for i in range(10): \\<br>    somme += i"<br>print(somme)<br>"""</span></code></pre><p>Que se passe-t-il si vous changez l’entrée de la manière suivante ?</p><pre class="language-py"><code class="language-py">entree <span class="token operator">=</span> <span class="token triple-quoted-string string">"""<br>somme = 0<br># for i in range(10):<br>    somme += i<br>print(somme)<br>"""</span></code></pre><p>Que se passe-t-il si vous changez l’entrée de la manière suivante ?</p><pre class="language-py"><code class="language-py">entree <span class="token operator">=</span> <span class="token triple-quoted-string string">"""<br>somme = 0<br>for i in range(10):<br>    for j in range(20):<br>        somme += i + j<br>print(somme)<br>"""</span></code></pre><p>Que déduisez-vous de cette implémentation par rapport aux problèmes rencontrés ?</p><p>Est-ce une solution viable ? Que feriez-vous ?</p><p>Faites une recherche sur Internet sur les mots clés suivants :</p><ul><li>Tokenizer ou Lexer.</li><li>Pygments, SimpleParse, PyParsing.</li><li>Abstract Syntax Tree (AST).</li><li>Module ast de Python.</li></ul><p>Quelles sont vos conclusions ?</p></main></div></div><footer class="bd-footer py-5 bg-dark"><div class="container-fluid py-5"><div class="row"><div class="col-lg-3 d-md-block collapse"></div><div class="col-lg-9 ms-sm-auto px-md-4"><a class="d-inline-flex align-items-center mb-2 link-light text-decoration-none" href="/" aria-label="Algorithmique Appliquée"><span class="fs-5">Algorithmique Appliquée</span></a><ul class="list-unstyled small text-muted"><li class="mb-2">BTS SIO SISR - 1ière année - Session 2021 - 2022</li><li class="mb-2">Code source sous licence <a href="https://github.com/loic-yvonnet/algo-appliquee/blob/master/LICENSE" target="_blank" rel="license noopener" class="link-light">MIT</a>, et cours sous licence <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank" rel="license noopener" class="link-light">CC BY 3.0</a>.</li><li class="mb-2"><address><span>Contact :</span> <a href="mailto:loic@yvo.solutions" class="link-light">loic@yvo.solutions</a></address></li></ul></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE" crossorigin="anonymous"></script><script>feather.replace();</script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha256-qVJed55YB6+tZ9LzJ0xVZTArcMw2XXxjFeeRIEUmwOk=" crossorigin="anonymous"></script><script>katexOptions = {
        delimiters: [
          {left: "$$", right: "$$", display: true},
          {left: "$", right: "$", display: false} // means inline...
        ]
      };</script><script src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body, katexOptions);"></script></body></html>